<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>2-2</title>
</head>
<body>
	<!--使用ajax從後台抓出資料-->
	<form>
	<!--此為範例 請自行修改-->
		<select name="YourLocation" id="loc" onchange="get_area()">
　			<option value="Taipei">台北市</option>
			<option value="Tainan">台南市</option>
　			<option value="Kaohsiung">高雄市</option>
		</select>
		<select name="area" id="area" onchange="output()">
			
		</select>
	</form>
	<!--3-3題-->縣市+區域<input type="text" id="address"></br>
	<!--加分題(需chrome可用)--><input type="button" value="下載">
	<script type="text/javascript">
		function get_area(){
			var a = document.getElementById("loc").value;
			if(window.XMLHttpRequest){
	            xmlhttp = new XMLHttpRequest();
	        }else{
	            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
	        }
	        xmlhttp.onreadystatechange = function(){
	            if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
	                document.getElementById("area").innerHTML = xmlhttp.responseText;
	            }
	        };
	        xmlhttp.open("GET","loc.php?city="+a,true);
	        xmlhttp.send();
	    }
	    function output(){
	    	var c = document.getElementById("loc");
			var cc = c.options[c.selectedIndex].text;
			var a = document.getElementById("area");
			var aa = a.options[a.selectedIndex].text;
			document.getElementById("address").value = cc+aa;
	    }
	</script>
</body>
</body>
</html>


